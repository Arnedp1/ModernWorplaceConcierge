@{
    ViewBag.Current = "IntuneImport";
}

<div class="jumbotron">
    <h1>Import Intune configuration</h1>
    <p>Import previously exported data to your Intune tenant. Supported items (must be provided as json):<p>
    <ul>
        <li>Compliance policies</li>
        <li>Configuration profiles</li>
        <li>PowerShell scripts</li>
        <li>Windows 10 update rings</li>
        <li>Windows Autopilot deployment profiles</li>
    </ul>
    <p><strong>Please note that no items will be overwritten as this tool performs only POST requests.</strong></p>
</div>


@using (Html.BeginForm("Upload", "Intune", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div class="form-group">
        <div class="custom-file">
            <input type="file" name="files" class="custom-file-input" id="file" accept=".json" multiple>
            <label class="custom-file-label" for="file">Choose file</label>
        </div>
        <script>
            // Add the following code if you want the name of the file appear on select
            $(".custom-file-input").on("change", function () {
                var fileName = $(this).val().split("\\").pop();
                $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
            });
        </script>
        <br />
        <br />
        <input type="submit" class="btn btn-primary" value="Upload" />
    </div>
}