@{
    ViewBag.Current = "ConditionalAccessImport";
}

<div class="jumbotron">
    <h1>Import Conditional Access policies</h1>
    
    <p>Import previously exported Conditional Access policies to your tenant. </p>
    <p>
        <strong>
            Please note:
            <ul>
                <li>No items will be overwritten as this tool performs only POST requests</li>
                <li>Policies are imported with "diabled" state</li>
                <li>Unavailable group and application ID's (when exported from another tenant) are discarded on import</li>
            </ul>
        </strong>
    </p>
</div>


@using (Html.BeginForm("Upload", "ConditionalAccess", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div class="form-group">
        <div class="custom-file">
            <input type="file" name="files" class="custom-file-input" id="file" accept=".json" multiple>
            <label class="custom-file-label" for="file">Choose file</label>
        </div>

        <script>
            // Add the following code if you want the name of the file appear on select
            $(".custom-file-input").on("change", function () {
                var fileName = $(this).val().split("\\").pop();
                $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
            });
        </script>

        <br />
        <br />
        <input type="submit" class="btn btn-primary" value="Upload" />

    </div>
}